# 运行说明

## 1. 安装依赖

```bash
npm install
```

## 2. 启动开发服务器

```bash
npm start
```

## 3. 使用说明

- **按钮长按演示**  
  点击并按住按钮 500ms 以上，观察按压动画和事件日志。

- **区域长按演示**  
  在网格区域任意位置长按，观察位置跟踪效果。

- **列表项长按**  
  长按任意列表项，查看上下文菜单效果。

- **实时配置**  
  使用滑块调整长按触发时间，查看实时统计信息。

---

# 实现原理总结

本示例包含以下内容：

## 1. 事件插件架构

- **LongPressEventPlugin**：主插件，定义事件类型和提取逻辑
- **LongPressManager**：管理长按状态和计时器
- 模拟 React 的事件分发机制

## 2. 事件流处理

- **开始**：`mousedown`/`touchstart` → `onLongPressStart`
- **进行**：跟踪移动，检查阈值
- **完成**：计时器触发 → `onLongPress`
- **结束**：释放 → `onLongPressEnd`

## 3. 跨平台支持

- 同时支持鼠标和触摸事件
- 处理移动设备的触摸标识符

## 4. 性能优化

- 使用 `WeakMap` 避免内存泄漏
- 及时清理计时器和状态
- 事件对象复用（模拟）

## 5. 开发者体验

- 详细的日志系统
- 可视化反馈
- 实时配置调整

---

# 扩展可能

本示例可进一步扩展：

- 集成到真实 React 事件系统
- 添加更多手势识别（滑动、捏合等）
- 支持自定义反馈（震动、声音等）
- 添加无障碍支持（ARIA 属性）

---

通过这个完整示例，你可以理解 React 事件插件的工作原理，并可以基于此创建自己的自定义事件系统。